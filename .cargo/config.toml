# Cargo build configuration
# This forces all macOS ARM builds to target M1 specifically, not M2
# This prevents whisper.cpp from trying to use i8mm instructions

[target.aarch64-apple-darwin]
rustflags = [
    "-C", "target-cpu=apple-m1",
    "-C", "link-arg=-framework",
    "-C", "link-arg=Accelerate",
    "-A", "warnings",
    "-A", "unexpected_cfgs"
]

[target.x86_64-pc-windows-msvc]
rustflags = [
    "-A", "warnings",
    "-A", "unexpected_cfgs"
]

[target.x86_64-unknown-linux-gnu]
rustflags = ["-A", "warnings", "-A", "unexpected_cfgs"] 
