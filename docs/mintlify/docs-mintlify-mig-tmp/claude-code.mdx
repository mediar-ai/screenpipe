---
title: "Claude Code - AI coding with screen context"
sidebarTitle: "claude code"
description: "Use screenpipe with Claude Code CLI to give Claude access to your screen history, meeting transcriptions, and app context while coding."
icon: "terminal"
---

[Claude Code](https://code.claude.com) is Anthropic's official CLI for agentic coding. with screenpipe integration, Claude can reference what you've been working on, recall information from your screen, and access meeting transcriptions.

## setup

```bash
claude mcp add screenpipe --transport stdio -- npx -y screenpipe-mcp
```

to make it available across all your projects:

```bash
claude mcp add screenpipe --transport stdio --scope user -- npx -y screenpipe-mcp
```

## verify connection

```bash
# list MCP servers
claude mcp list

# or inside Claude Code, use
/mcp
```

## available tools

once connected, Claude Code has access to these tools:

| tool | description |
|------|-------------|
| `search-content` | search screen OCR, audio transcriptions with time/app filters |
| `search-ui-events` | search accessibility data: keyboard input, mouse clicks, app switches, clipboard (macOS) |
| `get-ui-event-stats` | get aggregated UI event statistics by app and event type |
| `export-video` | create video exports from screen recordings |

## usage examples

ask Claude Code to use screenpipe naturally:

```
> what was I looking at in my browser an hour ago?

> find mentions of "kubernetes" from my screen today

> show me audio transcriptions from my last meeting

> what code was I reading in VS Code yesterday about async?

> export a video of my screen from 2-3pm today

> what did I type in Slack today?

> show me my app usage stats for the past 2 hours

> what did I copy to clipboard recently?

> which apps did I switch between most today?
```

## search parameters

### search-content (screen OCR + audio)

| parameter | description |
|-----------|-------------|
| `q` | search query (optional - omit to get all content) |
| `content_type` | `ocr`, `audio`, `ui`, or `all` (default: `all`) |
| `limit` | max results (default: 10) |
| `offset` | pagination offset |
| `start_time` | ISO 8601 UTC start time |
| `end_time` | ISO 8601 UTC end time |
| `app_name` | filter by app (e.g., "Chrome", "Slack") |
| `window_name` | filter by window title |
| `include_frames` | include base64 screenshots |
| `speaker_ids` | comma-separated speaker IDs for audio filtering |
| `speaker_name` | filter audio by speaker name |

### search-ui-events (accessibility data - macOS)

| parameter | description |
|-----------|-------------|
| `q` | search text content, app name, window title |
| `event_type` | `click`, `text`, `scroll`, `key`, `app_switch`, `window_focus`, `clipboard` |
| `app_name` | filter by application |
| `window_name` | filter by window title |
| `start_time` | ISO 8601 UTC start time |
| `end_time` | ISO 8601 UTC end time |
| `limit` | max results (default: 50) |
| `offset` | pagination offset |

<Tip>
**event types explained:**
- `text` - aggregated keyboard input (what was typed)
- `click` - mouse clicks with element labels from accessibility APIs
- `app_switch` / `window_focus` - track which apps you used
- `clipboard` - copy/paste operations with content
</Tip>

## example workflows

**recall context from earlier:**
```
> I was reading a blog post about rust async earlier today,
> search screenpipe and summarize the key points
```

**reference meeting discussion:**
```
> search my audio transcriptions for what was discussed in standup
> about the API refactor, then help me implement it
```

**debug with screen history:**
```
> I saw an error message flash on screen, search screenpipe
> to find it and help me fix the issue
```

**find code examples:**
```
> search screenpipe for the python code I was looking at
> in the browser yesterday about asyncio patterns
```

**track what you typed:**
```
> what did I write in Notion this morning? use ui-events
> to find my keyboard input
```

**analyze productivity:**
```
> get my app usage stats for today and tell me which apps
> I spent the most time in
```

**recall clipboard history:**
```
> I copied something important earlier, search clipboard
> events to find it
```

## requirements

- screenpipe running on localhost:3030
- Claude Code CLI installed
- Node.js >= 18.0.0

## troubleshooting

**MCP not connecting?**
- verify screenpipe is running: `curl http://localhost:3030/health`
- check MCP status in Claude Code: `/mcp`
- remove and re-add: `claude mcp remove screenpipe && claude mcp add screenpipe --transport stdio -- npx -y screenpipe-mcp`

**queries returning empty?**
- check screenpipe has data: `curl "http://localhost:3030/search?limit=1"`
- ensure screen recording permissions are granted
- verify the time range you're querying

**permission errors?**
- macos: check System Settings > Privacy & Security > Screen Recording
- ensure screenpipe app/CLI is listed and enabled
